# -*- mode: snippet; eval: (setq require-final-newline nil) -*-
# name: Jest spyOn
# key: jestspy
# group: Jest
# --
const ${1:obj} = TestBed.get(${2:obj_import});
const $3Listener = jest.spyOn($1, '${3:method_name}').mockResolvedValue(true);

expect($3Listener.mock.calls.length).toBe(1);
expect($3Listener.mock.calls[0][0]).toEqual(${4:expected});
